<main class="main">

  <app-repository-search></app-repository-search>

  <div class="container">
    <div class="searchContainer">
      <h1 class="title">Busca por Issues</h1>
      <div class="formContainer">
        <form (submit)="getIssues()" class="formItem">
          <mat-form-field>
            <mat-label>Busca</mat-label>
            <input matInput [(ngModel)]="issuesParams" name="issuesParams">

            <button mat-icon-button matSuffix type="submit">
              <mat-icon>search</mat-icon>
            </button>
          </mat-form-field>
        </form>
      </div>

      <mat-list>
        @for (item of issuesResponse ; track item) {
        <mat-list-item>
          Creator: {{ item.user.login }}
        </mat-list-item>
        <mat-list-item>
          Creation Date: {{ item.created_at | date : 'dd/MM/yyyy HH:mm' }}
        </mat-list-item>
        @if(item.closed_at) {
        <mat-list-item>
          Close Date: {{ item.closed_at | date : 'dd/MM/yyyy HH:mm' }}
        </mat-list-item>
        }
        @if(item.body){
        <mat-list-item>
          Body: {{ item.body}}
        </mat-list-item>
        }


        <mat-divider></mat-divider>
        }
      </mat-list>
    </div>
  </div>

  <app-repository-search-topics></app-repository-search-topics>
</main>


<router-outlet />